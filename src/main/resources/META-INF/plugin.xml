<idea-plugin>
    <id>com.badahori.creatures.plugins.intellij.agenteering</id>
    <name>Creatures CAOS and Agenteering</name>
    <version><!-- *** SET VERSION IN GRADLE *** -->2023.01.00</version>
    <vendor>Bedalton</vendor>

    <description><![CDATA[
    This plugin aims to provide simple CAOS and agent editing for a variety of Creatures variants<br/>
    <b>Supports:</b><br/>
    <ul>
      <li>Creatures 1</li>
      <li>Creatures 2</li>
      <li>Creatures Village (Mostly)</li>
      <li>Creatures 3</li>
      <li>Docking Station</li>
      <li>Sea Monkeys (Experimental)</li>
    </ul>
    <b>Implemented</b>
    <ul>
      <li>Syntax Highlighting</li>
      <li>Basic completion</li>
      <li>Definition reference</li>
      <li>Parameter hints</li>
      <li>Known value completion from list. (i.e. Drives or Chemicals by name)</li>
      <li>Sprite viewers</li>
      <li>ATT file editor</li>
      <li>Pray File editing</li>
      <li>COB compiler(CAOS2Cob)/decompiler</li>
      <li>Catalogue Editing</li>
    </ul>
    <b>Todo:</b>
    <ul>
      <li>PRAY decompiler</li>
      <li>Sprite compilers</li>
    </ul>
    ]]></description>

    <change-notes><![CDATA[
        <ul>
            <li>
                <b>Version: 2024.2.0</b>
                <b>Fixes</b>
                <ul>
                    <li>Fix CAOS2Pray Join still requiring Pray-File command</li>
                </ul>
            </li>
            <li>
                <b>Version: 2024.01.3</b>
                <b>Fixes</b>
                <ul>
                    <li>Fix slow loading of sprites and ATT editor</li>
                </ul>
            </li>
            <li>
                <b>Version: 2024.01.2</b>
                <b>Fixes</b>
                <ul>
                    <li>Fix out of range errors on agent and sprite parsing</li>
                </ul>
            </li>
            <li>
                <b>Version: 2024.01.1</b>
                <b>Added</b>
                <ul>
                    <li>Added CAOS injection on unix platforms</li>
                    <li>Spellchecking in commands and strings</li>
                    <li>Spellchecking entries for CAOS commands in text</li>
                </ul>
            </li>
            <li>
                <b>Version: 2024.01.00</b>
                <b>Fixes</b>
                <ul>
                    <li>Fix C1/C2 injection on Windows</li>
                </ul>
            </li>
            <li>
                <b>Version: 2023.01.00</b>
                <b>Improvement</b>
                <ul>
                    <li>Added more shortcut keys to ATT editor</li>
                    <li>Catalogue inspections</li>
                    <li>Catalogue value autocomplete</li>
                </ul>
                <b>Fixes</b>
                <ul>
                    <li>Relative path completion in CAOS2Pray directives</li>
                    <li>Journal name autocomplete</li>
                    <li>Filename rename in CAOS2Pray</li>
                    <li>Rename NAME|GAME|EAME variable strings</li>
                    <li>Fix error on expand CAOS in C1e scripts</li>
                </ul>
            </li>
        </ul>
        ]]>
  </change-notes>

    <!-- please see http://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/build_number_ranges.html for description -->
    <idea-version since-build="221.6000"/>

    <!-- please see http://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/plugin_compatibility.html
         on how to target different products -->
    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.modules.lang</depends>
    <depends config-file="att-support-plugin.xml">com.intellij.modules.lang</depends>
    <depends config-file="catalogue-support-plugin.xml">com.intellij.modules.lang</depends>
    <depends config-file="cob-support-plugin.xml">com.intellij.modules.lang</depends>
    <depends config-file="idea-project-plugin.xml">com.intellij.modules.lang</depends>
    <depends config-file="pray-support-plugin.xml">com.intellij.modules.lang</depends>
    <depends config-file="sprite-support-plugin.xml">com.intellij.modules.lang</depends>


    <extensions defaultExtensionNs="com.intellij">


        <!-- ======================== -->
        <!-- ===== CAOS Script ====== -->
        <!-- ======================== -->
        <!-- LANG -->

        <fileType name="Caos Script"
                  implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.lang.CaosScriptFileType"
                  fieldName="INSTANCE"
                  language="CaosScript"
                  extensions="cos"/>


        <fileType name="Caos Definitions File"
                  implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.def.lang.CaosDefFileType"
                  fieldName="INSTANCE"
                  language="CaosDef"
                  extensions="caosdef"/>

        <postStartupActivity
                implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.project.CaosProjectStartupActivity"/>

        <lang.parserDefinition
                implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.parser.CaosScriptParserDefinition"
                language="CaosScript"
        />

        <spellchecker.bundledDictionaryProvider
                implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.lang.CaosDictionary"
        />

        <spellchecker.support language="CaosScript" implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.lang.CaosSpellcheckingStrategy"/>

        <editorNotificationProvider
                implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.project.editor.CaosScriptEditorToolbar"/>

        <lang.findUsagesProvider language="CaosScript"
                                 implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.references.CaosScriptUsagesProvider"/>

        <usageTypeProvider
                implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.references.CaosScriptUsageTypeProvider"
        />

        <automaticRenamerFactory
                implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.references.CaosScriptFileStringRenamerFactory"
        />

        <moduleType id="CAOS_MODULE"
                    implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.project.module.CaosScriptModuleType"
                    classpathProvider="false"/>

        <moduleService
                serviceInterface="com.badahori.creatures.plugins.intellij.agenteering.caos.project.module.CaosModuleSettingsService"
                serviceImplementation="com.badahori.creatures.plugins.intellij.agenteering.caos.project.module.CaosModuleSettingsComponent"/>

        <additionalLibraryRootsProvider
                implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.project.library.CaosScriptAdditionalLibraryRootsProvider"/>

        <fileBasedIndex
                implementation="com.badahori.creatures.plugins.intellij.agenteering.indices.CaseInsensitiveFileIndex"/>


        <!-- Completion -->
        <completion.contributor language="CaosScript"
                                implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.completion.CaosScriptCompletionContributor"/>

        <!-- Renaming -->
        <renamePsiElementProcessor
                implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.references.CaosScriptRenameElementProcessor"/>

        <vetoRenameCondition
                implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.references.CaosScriptVetoRenameCondition"/>

        <renameInputValidator
                implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.references.CaosScriptRenameInputValidator"
        />

        <lang.refactoringSupport language="CaosScript"
                                 implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.references.CaosScriptRenameRefactoringSupportProvider"/>

        <lang.namesValidator language="CaosScript"
                             implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.references.CaosScriptNameValidator"/>

        <enterHandlerDelegate
                implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.handlers.CaosScriptEnterHandler"/>

        <referencesSearch implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.references.CaosFileElementsSearchExecutor" />

        <!-- Project -->
        <iconProvider
                implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.project.module.CaosModuleIconProvider"
        />
        <projectTemplatesFactory
                implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.project.template.CaosScriptTemplateFactory"/>

        <moduleConfigurationEditorProvider
                implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.project.module.CaosModuleConfigurationEditorProvider"/>

        <treeStructureProvider
                implementation="com.badahori.creatures.plugins.intellij.agenteering.nodes.BreedTreeProvider"
                order="after CaosTreeViewProvider"
        />

        <treeStructureProvider
                id="CaosTreeViewProvider"
                implementation="com.badahori.creatures.plugins.intellij.agenteering.nodes.CaosTreeViewProvider"/>

        <search.optionContributor
                implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.settings.OptionsSearchRegister"
        />

        <projectConfigurable parentId="language"
                             instance="com.badahori.creatures.plugins.intellij.agenteering.caos.settings.CaosProjectSettingsConfigurable"
                             id="com.badahori.creatures.plugins.intellij.agenteering.caos.settings.CaosProjectSettingsConfigurable"
                             displayName="CAOS &amp; Agenteering"
                             nonDefaultProject="false"
        />

        <!--suppress LightServiceMigrationXML -->
        <projectService
                serviceImplementation="com.badahori.creatures.plugins.intellij.agenteering.caos.settings.CaosProjectSettingsService"
        />


        <applicationService
                serviceImplementation="com.badahori.creatures.plugins.intellij.agenteering.caos.settings.CaosApplicationSettingsService"
        />

        <applicationService
                serviceImplementation="com.badahori.creatures.plugins.intellij.agenteering.caos.settings.CaosInjectorApplicationSettingsService"/>

        <filePropertyPusher
                implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.settings.ExplicitVariantFilePropertyPusher"/>
        <filePropertyPusher
                implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.settings.ImplicitVariantFilePropertyPusher"/>
        <filePropertyPusher
                implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.settings.InjectorInterfacePropertyPusher"/>


        <!-- Formatting -->
        <lang.formatter language="CaosScript"
                        implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.formatting.CaosScriptFormattingModelBuilder"/>

        <lang.commenter
                implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.fixes.CaosScriptCommenter"
                language="CaosScript"
        />

        <!-- Code Style Settings -->
        <codeStyleSettingsProvider
                implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.formatting.CaosScriptCodeStyleSettingsProvider"/>

        <langCodeStyleSettingsProvider
                implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.formatting.CaosScriptLanguageCodeStyleSettingsProvider"/>

        <!-- Highlighting -->
        <lang.syntaxHighlighterFactory
                implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.highlighting.CaosScriptSyntaxHighlighterFactory"
                language="CaosScript"
        />
        <lang.syntaxHighlighter
                implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.highlighting.CaosScriptSyntaxHighlighter"
                language="CaosScript"
        />

        <colorSettingsPage
                implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.highlighting.CaosScriptColorSettingsPage"/>

        <!-- Annotators -->
        <annotator language="CaosScript"
                   id="errorAnnotator"
                   implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.annotators.CaosScriptSyntaxErrorAnnotator"/>
        <annotator language="CaosScript"
                   implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.annotators.CaosScriptSpaceAnnotator"/>
        <annotator language="CaosScript"
                   implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.annotators.CaosScriptEnumAnnotator"
                   order="first"
        />
        <annotator language="CaosScript"
                   implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.annotators.CaosScriptCommandCaseAnnotator"/>

        <annotator language="CaosScript"
                   implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.annotators.CaosScriptGhostElementAnnotator"/>

        <!--annotator language="CaosScript"
                   implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.annotators.CaosScriptHelperActionAnnotator" / -->

        <annotator language="CaosScript"
                   implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.pray.annotator.Caos2PrayAnnotator"/>

        <annotator language="CaosScript"
                   order="after errorAnnotator"
                   implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.highlighting.CaosScriptHighlighterAnnotator"/>

        <!-- Inspections -->
        <localInspection language="CaosScript"
                         implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.inspections.CaosScriptTypesInspection"
                         level="WARNING"
                         groupName="CaosScript"
                         groupPath="CaosScript"
                         enabledByDefault="true"
                         displayName="Expected parameter type"
                         shortName="ExpectedParameterType"
                         order="last"
        />
        <localInspection language="CaosScript"
                         implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.inspections.CaosScriptCAssignmentInspection"
                         level="ERROR"
                         groupName="CaosScript"
                         groupPath="CaosScript"
                         enabledByDefault="true"
                         displayName="Assigned value is of expected type"
                         shortName="ExpectedAssigmentType"
        />
        <localInspection language="CaosScript"
                         implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.inspections.CaosScriptWavFileLengthInspection"
                         level="WARNING"
                         groupName="CaosScript"
                         groupPath="CaosScript"
                         enabledByDefault="true"
                         displayName="Wave file name length is valid"
                         shortName="WavFileLengthValid"
        />

        <localInspection language="CaosScript"
                         implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.inspections.CaosScriptSubroutineInspection"
                         level="ERROR"
                         groupName="CaosScript"
                         groupPath="CaosScript"
                         enabledByDefault="true"
                         displayName="Subroutine is defined"
                         shortName="SubroutineIsDefined"
        />
        <localInspection language="CaosScript"
                         implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.inspections.CaosScriptRandomVarOutOfOrderInspection"
                         level="WARNING"
                         groupName="CaosScript"
                         groupPath="CaosScript"
                         enabledByDefault="true"
                         displayName="RNDV values out of order"
                         shortName="RNDVOutOfOrder"
        />

        <localInspection language="CaosScript"
                         implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.inspections.CaosScriptInterleavingBodyStatements"
                         level="WEAK WARNING"
                         groupName="CaosScript"
                         groupPath="CaosScript"
                         enabledByDefault="true"
                         displayName="Interleaving body script elements"
                         shortName="InterleavingBodyScripts"
        />

        <localInspection language="CaosScript"
                         implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.inspections.CaosScriptIgnoredScriptsAfterRemovalScriptInspection"
                         level="WARNING"
                         groupName="CaosScript"
                         groupPath="CaosScript"
                         enabledByDefault="true"
                         displayName="Scripts after removal scripts are ignored"
                         shortName="ScriptsAfterRemovalScripts"
        />

        <localInspection language="CaosScript"
                         implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.inspections.CaosScriptMultipleRemovalScriptInspection"
                         level="WARNING"
                         groupName="CaosScript"
                         groupPath="CaosScript"
                         enabledByDefault="true"
                         displayName="Multiple removal scripts"
                         shortName="MultipleRemovalScripts"
        />
        <localInspection language="CaosScript"
                         implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.inspections.CaosScriptRandomValueIsTheSameInspection"
                         level="WEAK WARNING"
                         groupName="CaosScript"
                         groupPath="CaosScript"
                         enabledByDefault="true"
                         displayName="Rndv value is always the same"
                         shortName="RndvIsTheSame"
        />

        <localInspection language="CaosScript"
                         implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.inspections.CaosScriptRequiresOwnrInspection"
                         level="ERROR"
                         groupName="CaosScript"
                         groupPath="CaosScript"
                         enabledByDefault="true"
                         displayName="Command used without OWNR object"
                         shortName="NoOwnrObject"
        />

        <localInspection language="CaosScript"
                         implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.inspections.CaosScriptRequiresOwnrWithWarningInspection"
                         level="WEAK WARNING"
                         groupName="CaosScript"
                         groupPath="CaosScript"
                         enabledByDefault="true"
                         displayName="Non-error generating use of OWNR object command without OWNR object"
                         shortName="NoOwnrObjectWarning"
        />

        <localInspection language="CaosScript"
                         implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.inspections.CaosScriptTrailingWhitespaceInspection"
                         level="ERROR"
                         groupName="CaosScript"
                         groupPath="CaosScript"
                         enabledByDefault="true"
                         displayName="Trailing whitespace characters"
                         shortName="C1eTrailingWhitespace"
        />

        <localInspection language="CaosScript"
                         level="ERROR"
                         groupName="CaosScript"
                         groupPath="CaosScript"
                         enabledByDefault="true"
                         displayName="Scripts defined after event script in C1/C2"
                         shortName="ScriptAfterEventScriptC1"
                         implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.inspections.CaosScriptMultipleScriptsInC1File"
        />

        <localInspection language="CaosScript"
                         level="WARNING"
                         groupName="CaosScript"
                         groupPath="CaosScript"
                         enabledByDefault="true"
                         displayName="Invalid script header value"
                         shortName="InvalidScriptHeaderValue"
                         implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.inspections.CaosScriptInvalidScriptHeaderValueInspection"
        />

        <localInspection language="CaosScript"
                         level="WARNING"
                         groupName="CaosScript"
                         groupPath="CaosScript"
                         enabledByDefault="true"
                         displayName="Duplicate event script in file"
                         shortName="DuplicateEventScriptInFile"
                         implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.inspections.CaosScriptDuplicateEventScriptInFileInspection"
        />

        <localInspection language="CaosScript"
                         level="WEAK WARNING"
                         groupName="CaosScript"
                         groupPath="CaosScript"
                         enabledByDefault="true"
                         displayName="Duplicate event script in module"
                         shortName="DuplicateEventScriptInModule"
                         implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.inspections.CaosScriptDuplicateEventScriptInModuleInspection"
        />

        <localInspection language="CaosScript"
                         level="ERROR"
                         groupName="CaosScript"
                         groupPath="CaosScript"
                         enabledByDefault="true"
                         displayName="SSFC number of arguments"
                         shortName="SSFCArgumentsCheck"
                         implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.inspections.CaosScriptSsfcPointsCheck"
        />

        <localInspection language="CaosScript"
                         level="ERROR"
                         groupName="CaosScript"
                         groupPath="CaosScript"
                         enabledByDefault="true"
                         displayName="Invalid numeric expression in variant"
                         shortName="InvalidNumericExpression"
                         implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.inspections.CaosScriptInvalidNumericExpressionInspection"
        />

        <localInspection language="CaosScript"
                         level="WEAK WARNING"
                         groupName="CaosScript"
                         groupPath="CaosScript"
                         enabledByDefault="true"
                         displayName="Agent to int coercion"
                         shortName="AgentToIntCoercion"
                         implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.inspections.CaosScriptAgentToIntCoercionInspection"
        />

        <localInspection language="CaosScript"
                         level="WEAK WARNING"
                         groupName="CaosScript"
                         groupPath="CaosScript"
                         enabledByDefault="true"
                         displayName="Requires creature ownr object"
                         shortName="RequiresCreatureOwnr"
                         implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.inspections.CaosScriptRequiresCreatureOwnrInspection"
        />


        <localInspection language="CaosScript"
                         level="ERROR"
                         groupName="CaosScript"
                         groupPath="CaosScript"
                         enabledByDefault="true"
                         displayName="Out of variant variable use"
                         shortName="OutOfVariantVariable"
                         implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.inspections.CaosScriptOutOfVariantVariable"
        />


        <localInspection language="CaosScript"
                         level="ERROR"
                         groupName="CaosScript"
                         enabledByDefault="true"
                         displayName="Empty loop causes exception"
                         shortName="EmptyLoopCausesException"
                         groupPath="CaosScript"
                         implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.inspections.CaosScriptEmptyLoopInspection"
        />

        <localInspection language="CaosScript"
                         level="WARNING"
                         groupName="CAOS2Cob"
                         groupPath="CaosScript"
                         enabledByDefault="true"
                         displayName="Invalid property value"
                         shortName="Caos2CobInvalidTagValue"
                         implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.cobs.caos2cob.inspections.Caos2CobIsExpectedTagValueType"
        />

        <localInspection language="CaosScript"
                         level="ERROR"
                         groupName="CAOS2Cob"
                         groupPath="CaosScript"
                         enabledByDefault="true"
                         displayName="Source file does not exist"
                         shortName="Caos2CobSourceFileDoesNotExist"
                         implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.cobs.caos2cob.inspections.Caos2CobRequiredFileExistsInspection"
        />

        <localInspection language="CaosScript"
                         level="WARNING"
                         groupName="CAOS2Cob"
                         groupPath="CaosScript"
                         enabledByDefault="true"
                         displayName="Out of variant CAOS2Cob directive"
                         shortName="Caos2CobOutOfVariantDirective"
                         implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.cobs.caos2cob.inspections.Caos2CobOutOfVariantDirectiveInspection"
        />

        <localInspection language="CaosScript"
                         level="WARNING"
                         groupName="CAOS2Cob"
                         groupPath="CaosScript"
                         enabledByDefault="true"
                         displayName="Invalid CAOS2Cob property"
                         shortName="Caos2CobInvalidProperty"
                         implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.cobs.caos2cob.inspections.Caos2CobPropertyIsValidInspection"
        />

        <localInspection language="CaosScript"
                         level="WARNING"
                         groupName="CAOS2Cob"
                         groupPath="CaosScript"
                         enabledByDefault="true"
                         displayName="Invalid CAOS2Cob command"
                         shortName="Caos2CobInvalidCommand"
                         implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.cobs.caos2cob.inspections.Caos2CobCommandIsValidInspection"
        />

        <localInspection language="CaosScript"
                         level="ERROR"
                         groupName="CAOS2Cob"
                         groupPath="CaosScript"
                         enabledByDefault="true"
                         displayName="Missing required CAOS2Cob properties"
                         shortName="Caos2CobMissingRequiredProperties"
                         implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.cobs.caos2cob.inspections.Caos2CobHasRequiredFieldsInspection"
        />

        <localInspection language="CaosScript"
                         level="ERROR"
                         groupName="CAOS2Cob"
                         groupPath="CaosScript"
                         enabledByDefault="true"
                         displayName="Included file is valid type"
                         shortName="Caos2CobIncludedFileIsValidType"
                         implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.cobs.caos2cob.inspections.Caos2CobIncludedFileIsCorrectTypeInspection"
        />

        <localInspection language="CaosScript"
                         level="ERROR"
                         groupName="CAOS2Cob"
                         groupPath="CaosScript"
                         enabledByDefault="true"
                         displayName="Only one agent name"
                         shortName="Caos2CobTooManyAgentNames"
                         implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.cobs.caos2cob.inspections.Caos2CobOnlyOneAgentNameInspection"
        />

        <localInspection language="CaosScript"
                         level="ERROR"
                         groupName="CAOS2Cob"
                         groupPath="CaosScript"
                         enabledByDefault="true"
                         displayName="Only one cob name"
                         shortName="Caos2CobTooManyCobNames"
                         implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.cobs.caos2cob.inspections.Caos2CobOnlyOneCobNameInspection"
        />


        <localInspection language="CaosScript"
                         level="ERROR"
                         groupName="CAOS2Pray"
                         enabledByDefault="true"
                         displayName="CAOS2Pray block is not valid"
                         shortName="CAOS2PrayBlockIsInvalid"
                         groupPath="CaosScript"
                         implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.pray.inspections.Caos2PrayBlockIsValidInspection"
        />

        <localInspection language="CaosScript"
                         level="ERROR"
                         groupName="CAOS2Pray"
                         groupPath="CaosScript"
                         enabledByDefault="true"
                         displayName="Incorrect tag case"
                         shortName="CAOS2PrayTagIncorrectCase"
                         implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.pray.inspections.Caos2PrayTagCaseInspection"
        />

        <localInspection language="CaosScript"
                         level="INFO"
                         groupName="CAOS2Pray"
                         groupPath="CaosScript"
                         enabledByDefault="true"
                         displayName="PRAY tag is similar to official tag"
                         shortName="CAOS2PraySimilarTags"
                         implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.pray.inspections.Caos2PraySimilarTagInspection"
        />

        <localInspection language="CaosScript"
                         level="ERROR"
                         groupName="CAOS2Pray"
                         groupPath="CaosScript"
                         enabledByDefault="true"
                         displayName="Use of reserved auto-generated tag"
                         shortName="CAOS2PrayReservedTagUse"
                         implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.pray.inspections.Caos2PrayReservedTagUseInspection"
        />

        <localInspection language="CaosScript"
                         level="ERROR"
                         groupPath="CaosScript"
                         groupName="CAOS2Pray"
                         enabledByDefault="true"
                         displayName="Required file does not exist"
                         shortName="Caos2PraySourceFileDoesNotExist"
                         implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.pray.inspections.Caos2PrayRequiredFileExistsInspection"
        />


        <localInspection language="CaosScript"
                         level="INFO"
                         groupPath="CaosScript"
                         groupName="CAOS2Pray"
                         enabledByDefault="true"
                         displayName="Invalid CAOS2Pray property"
                         shortName="Caos2PrayInvalidProperty"
                         implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.pray.inspections.Caos2PrayPropertyIsValidInspection"
        />


        <localInspection language="CaosScript"
                         level="WEAK WARNING"
                         groupPath="CaosScript"
                         groupName="CaosScript"
                         enabledByDefault="true"
                         displayName="Catalogue tag does not exist"
                         shortName="CaosCatalogueTagIsValid"
                         implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.inspections.CatalogueTagExistsInspection"
        />

        <localInspection language="CaosScript"
                         level="WARNING"
                         groupPath="CaosScript"
                         groupName="CaosScript"
                         enabledByDefault="true"
                         displayName="Catalogue tag index invalid"
                         shortName="CaosCatalogueTagIndexIsValid"
                         implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.inspections.CatalogueTagIndexInvalidInspection"
        />

        <localInspection language="CaosScript"
                         level="WEAK WARNING"
                         groupPath="CaosScript"
                         groupName="CaosScript"
                         enabledByDefault="true"
                         displayName="Referencing non-unique catalogue tag"
                         shortName="CaosCatalogueTagIsUnique"
                         implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.inspections.CaosCatalogueTagIsUniqueInspection"
        />

        <!-- Documentation & Hints -->
        <documentationProvider
                implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.documentation.CaosScriptDocumentationProvider"/>

        <lang.foldingBuilder language="CaosScript"
                             implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.hints.CaosScriptDoifFoldingBuilder"/>
        <lang.foldingBuilder language="CaosScript"
                             implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.hints.CaosScriptStimFoldingBuilder"/>
        <lang.foldingBuilder language="CaosScript"
                             implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.formatting.CaosScriptBlockFoldingBuilder"/>
        <lang.foldingBuilder language="CaosScript"
                             implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.hints.CaosScriptRvalueFoldingBuilder"
                             id="caosRvalueFolder"
                             order="before caosInlayHints"/>

        <lang.foldingBuilder language="CaosScript"
                             implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.hints.CaosClassifierFolder"
        />

        <codeInsight.parameterNameHints language="CaosScript"
                                        implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.hints.CaosScriptInlayHintsProvider"
                                        id="caosInlayHints"
                                        order="after caosRvalueFolder"
        />

        <lang.braceMatcher language="CaosScript"
                           implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.formatting.CaosScriptBraceMatcher"/>
        <lang.quoteHandler
                language="CaosScript"
                implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.formatting.CaosScriptQuoteHandler"/>

        <!--    <referencesSearch-->
        <!--        implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.references.CaosDefElementsSearchExecutor" />-->

        <!-- Indices -->
        <stubElementTypeHolder
                externalIdPrefix="caos."
                class="com.badahori.creatures.plugins.intellij.agenteering.caos.stubs.types.CaosScriptStubTypes"/>

        <stubIndex
                implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.indices.CaosScriptSubroutineIndex"/>

        <stubIndex
                implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.indices.CaosScriptVarAssignmentIndex"/>

        <stubIndex
                implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.indices.CaosScriptEventScriptIndex"/>

        <stubIndex
                implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.indices.CaosScriptExpressionIndex"/>

        <stubIndex
                implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.indices.CaosScriptNamedGameVarIndex"/>

        <stubIndex
                implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.indices.CaosScriptStringLiteralIndex"/>

        <fileBasedIndex
                implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.indices.ClassifierToAgentNameIndex"/>

        <typedHandler
                implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.handlers.CaosScriptEndWordIndenter"
        />

        <!-- INTENTION ACTIONS -->
        <intentionAction>
            <className>
                com.badahori.creatures.plugins.intellij.agenteering.caos.fixes.CaosScriptExpandCommasIntentionAction
            </className>
            <category>CAOS</category>
        </intentionAction>
        <intentionAction>
            <className>
                com.badahori.creatures.plugins.intellij.agenteering.caos.action.InjectSingleCaosScriptIntentionAction
            </className>
            <category>CAOS</category>
        </intentionAction>

        <intentionAction>
            <className>
                com.badahori.creatures.plugins.intellij.agenteering.caos.fixes.CaosScriptCollapseNewLineWithCommasIntentionAction
            </className>
            <category>CAOS</category>
        </intentionAction>

        <intentionAction>
            <className>
                com.badahori.creatures.plugins.intellij.agenteering.caos.fixes.CaosScriptCollapseNewLineWithSpacesIntentionAction
            </className>
            <category>CAOS</category>
        </intentionAction>

        <intentionAction>
            <className>
                com.badahori.creatures.plugins.intellij.agenteering.caos.completion.GenerateBitFlagIntegerIntentionAction
            </className>
            <category>CAOS</category>
        </intentionAction>

        <intentionAction>
            <className>com.badahori.creatures.plugins.intellij.agenteering.caos.completion.GenerateClasIntegerAction
            </className>
            <category>CAOS</category>
        </intentionAction>

        <!-- ======================== -->
        <!-- ======= CAOS DEF ======= -->
        <!-- ======================== -->
        <!-- LANG -->
        <lang.parserDefinition
                implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.def.parser.CaosDefParserDefinition"
                language="CaosDef"/>
        <completion.contributor language="CaosDef"
                                implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.def.contributor.CaosDefCompletionContributor"/>

        <!--    <lang.findUsagesProvider-->
        <!--        implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.def.references.CaosDefUsagesProvider"-->
        <!--        language="CaosDef" />-->

        <!-- Bundled Definitions -->
        <library.type
                implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.project.library.CaosLibraryType"
                id="CaosLibrary"/>

        <!-- Highlighting -->
        <syntaxHighlighter
                implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.def.highlighting.CaosDefSyntaxHighlighter"
                key="CaosDef"/>
        <lang.syntaxHighlighterFactory
                implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.def.highlighting.CaosDefSyntaxHighlighterFactory"
                language="CaosDef"/>
        <annotator language="CaosDef"
                   implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.def.highlighting.CaosDefHighlighterAnnotator"/>

        <lang.elementManipulator
                forClass="com.badahori.creatures.plugins.intellij.agenteering.caos.def.psi.impl.CaosDefCodeBlockImpl"
                implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.def.highlighting.CaosDefCodeBlockManipulator"/>
        <languageInjector
                implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.def.highlighting.CaosDefCodeBlockInjector"
        />
        <!-- Indices -->
        <stubIndex
                implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.def.indices.CaosDefCommandElementsByNameIndex"/>
        <stubIndex
                implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.def.indices.CaosDefHashTagsIndex"/>
        <stubIndex
                implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.def.indices.CaosDefValuesListElementsByNameIndex"/>

        <!-- Formatting -->
        <lang.braceMatcher language="CaosDef"
                           implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.def.format.CaosDefBraceMatcher"/>

        <enterBetweenBracesDelegate language="CaosDef"
                                    implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.def.format.CaosDefEnterBetweenBracesDelegate"/>

        <colorSettingsPage
                implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.def.highlighting.CaosDefColorSettingsPage"/>


        <!-- SFC File Handling -->
        <!--fileType name="SFCFile"
                  implementationClass="com.badahori.creatures.plugins.intellij.agenteering.sfc.lang.SfcFileType"
                  fieldName="INSTANCE"
                  language="PlainText"
                  extensions="sfc" />
       -->


        <!-- =========================== -->
        <!-- === Virtual File System  == -->
        <!-- =========================== -->
        <virtualFileSystem
                implementationClass="com.badahori.creatures.plugins.intellij.agenteering.vfs.CaosVirtualFileSystem"
                key="caosvfs"
        />


        <!-- =========================== -->
        <!-- === Notification Groups  == -->
        <!-- =========================== -->

        <notificationGroup
                displayType="TOOL_WINDOW"
                id="creatures.CAOS_MAIN"
                isLogByDefault="true"
                key="caos.general.notification.group"
                bundle="com.badahori.creatures.plugins.intellij.caos-bundle"
        />

        <notificationGroup
                displayType="TOOL_WINDOW"
                id="creatures.CAOS_INJECTOR"
                isLogByDefault="true"
                key="caos.injector.notification.group"
                bundle="com.badahori.creatures.plugins.intellij.caos-bundle"
        />

        <notificationGroup
                displayType="BALLOON"
                id="creatures.CAOS_BALLOON"
                isLogByDefault="true"
                key="caos.injector.notification.balloon-group"
                bundle="com.badahori.creatures.plugins.intellij.caos-bundle"
        />

    </extensions>

    <actions>
        <!-- Add your actions here -->
        <action
                id="CaosScript.NewFile"
                icon="CaosScriptIcons.CAOS_FILE_ICON"
                class="com.badahori.creatures.plugins.intellij.agenteering.caos.action.CaosScriptNewFileAction">
            <add-to-group group-id="NewGroup" anchor="after" relative-to-action="NewFile"/>
        </action>
        <action id="com.badahori.creatures.plugins.intellij.agenteering.att.actions.AttNewFileAction"
                icon="CaosScriptIcons.ATT_FILE_ICON"
                class="com.badahori.creatures.plugins.intellij.agenteering.att.actions.AttNewFileAction">
            <add-to-group group-id="NewGroup" anchor="before" relative-to-action="CaosScript.NewFile"/>
        </action>

        <action id="com.badahori.creatures.plugins.intellij.agenteering.caos.action.CaosScriptCopyForBoBCobAction"
                class="com.badahori.creatures.plugins.intellij.agenteering.caos.action.CaosScriptCopyForBoBCobAction"
                text="Copy for BoBCob" description="Copy script for BoBCob file editor formatting as necessary">
            <add-to-group group-id="CutCopyPasteGroup" anchor="before" relative-to-action="CopyPaths"/>
        </action>

        <action id="com.badahori.creatures.plugins.intellij.agenteering.caos.action.ExpandCaosCommandsAction"
                class="com.badahori.creatures.plugins.intellij.agenteering.caos.action.ExpandCaosCommandsAction"
                text="Expand CAOS Commands"
                description="Places each CAOS command onto its own line"
        >
            <add-to-group group-id="CutCopyPasteGroup" anchor="before" relative-to-action="CopyPaths"/>
        </action>

        <action id="com.badahori.creatures.plugins.intellij.agenteering.caos.action.SetVariantAction"
                class="com.badahori.creatures.plugins.intellij.agenteering.caos.action.SetVariantAction"
                text="Set CAOS Variant"
                description="Set CAOS variant for selected folder or files"
                icon="CaosScriptIcons.SDK_ICON"
        >
            <add-to-group group-id="CutCopyPasteGroup" anchor="after"
                          relative-to-action="com.badahori.creatures.plugins.intellij.agenteering.caos.action.ExpandCaosCommandsAction"/>
        </action>

        <action id="com.badahori.creatures.plugins.intellij.agenteering.bundles.cobs.caos2cob.actions.CompileCaos2CobAction"
                class="com.badahori.creatures.plugins.intellij.agenteering.bundles.cobs.caos2cob.actions.CompileCaos2CobAction"
                text="Compile CAOS2Cob Files"
                description="Compile CAOS2Cob CAOS files into C1/C2 COBs">
            <add-to-group group-id="ProjectViewPopupMenu" anchor="after" relative-to-action="ExternalToolsGroup"/>
        </action>

        <action id="com.badahori.creatures.plugins.intellij.agenteering.sprites.actions.DumpSpriteAction"
                class="com.badahori.creatures.plugins.intellij.agenteering.sprites.actions.DumpSpriteAction"
                text="Dump Creatures Sprite" description="Dumps a creatures sprite file into a project directory"
        >
            <add-to-group group-id="ProjectViewPopupMenu" relative-to-action="ProjectViewPopupMenuRunGroup"
                          anchor="before"/>
        </action>

        <action id="com.badahori.creatures.plugins.intellij.agenteering.caos.action.InjectSingleCaosScriptAction"
                class="com.badahori.creatures.plugins.intellij.agenteering.caos.action.InjectSingleCaosScriptAction"
                text="Inject Selected Script"
                description="Injects the currently focused script"
        >
            <add-to-group group-id="ProjectViewPopupMenu"
                          relative-to-action="ProjectViewPopupMenuRunGroup"
                          anchor="before"/>
        </action>
        <action id="com.badahori.creatures.plugins.intellij.agenteering.bundles.agents.actions.DumpAgentAction"
                class="com.badahori.creatures.plugins.intellij.agenteering.bundles.agents.actions.DumpAgentAction"
                text="Dump Agent Files" description="Dumps all agent files and scripts into a directory"
        >
            <add-to-group group-id="ProjectViewPopupMenu" relative-to-action="ProjectViewPopupMenuRunGroup"
                          anchor="before"/>
        </action>

        <action id="com.badahori.creatures.plugins.intellij.agenteering.poser.actions.AutoPreview"
                class="com.badahori.creatures.plugins.intellij.agenteering.poser.actions.AutoPreview"
                text="Generate Breed Previews" description="Generates breed preview images"
        >
            <add-to-group group-id="ProjectViewPopupMenu" relative-to-action="ProjectViewPopupMenuRunGroup"
                          anchor="before"/>
        </action>
        <action id="com.badahori.creatures.plugins.intellij.agenteering.bundles.pray.compiler.CompilePrayFileAction"
                class="com.badahori.creatures.plugins.intellij.agenteering.bundles.pray.compiler.CompilePrayFileAction"
                text="Compile PRAY Agent"
                description="Compiles a PRAY or CAOS2Pray file into a C3/DS agent"
        >
            <add-to-group group-id="ProjectViewPopupMenu" relative-to-action="ProjectViewPopupMenuRunGroup"
                          anchor="before"/>
        </action>
    </actions>
</idea-plugin>