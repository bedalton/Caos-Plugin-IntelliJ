<idea-plugin>
  <id>com.badahori.creatures.plugins.intellij.agenteering</id>
  <name>Creatures CAOS and Agenteering</name>
  <version><!-- *** SET VERSION IN GRADLE *** -->2021.12.01</version>
  <vendor>Bedalton</vendor>

  <description><![CDATA[
    This plugin aims to provide simple CAOS and agent editing for a variety of Creatures variants<br/>
    <b>Supports:</b><br/>
    <ul>
      <li>Creatures 1</li>
      <li>Creatures 2</li>
      <li>Creatures Village (Mostly)</li>
      <li>Creatures 3</li>
      <li>Docking Station</li>
      <li>Sea Monkeys (Experimental)</li>
    </ul>
    <b>Implemented</b>
    <ul>
      <li>Syntax Highlighting</li>
      <li>Basic completion</li>
      <li>Definition reference</li>
      <li>Parameter hints</li>
      <li>Known value completion from list. (i.e. Drives or Chemicals by name)</li>
      <li>Sprite viewers</li>
      <li>ATT file editor</li>
      <li>Pray File editing</li>
      <li>COB compiler(CAOS2Cob)/decompiler</li>
    </ul>
    <b>Todo:</b>
    <ul>
      <li>PRAY decompiler</li>
      <li>Sprite compilers</li>
    </ul>
    ]]></description>

  <change-notes><![CDATA[
    <ul>
      <li>
        <b>Version: 2021.11.01</b>
        <b>#Fixes</b>
        <ul>
          <li>Fix body part z-order in Att/Pose editor</li>
          <li>ATT/Sprite indexing lock-up</li>
          <li>Fix PRAY/CAOS2Pray inspection reporting invalid file when file existed</li>
          <li>Fix named variable renaming</li>
        </ul>
        <b>#Improvements</b>
        <ul>
          <li>Speed up Att/Sprite pair indexing</li>
        </ul>
      </li>
      <li>
      <b>Versions: 2021.12.20</b>
        <b>Fixes</b>
        <ul>
          <li>C1 and C2 injection failure</li>
          <li>Error in sprite viewer</li>
          <li>Fix subroutine not renaming all usages</li>
          <li>Show error on bad subroutine instead of failing silently</li>
        </ul>
        <b>Improvements</b>
        <ul>
          <li>Prevent blocking UI thread with lots of breed files</li>
          <li>Improve unterminated string handling</li>
          <li>Improve bad command handling</li>
          <li>Highlight usages of indexed variables under caret</li>
        </ul>
      </li>
      <li>
        <b>Versions: 2021.09.19</b>
        <b>Improvements</b>
        <ul>
          <li>Added PRAY and CAOS2Pray compiling</li>
          <li>Added code navigation from script number in `MESG WRIT`, `MESG WRT+` and `CALL` commands</li>
          <li>Added support for arbitrary game names in injector</li>
          <li>Added file name completion in file parameter contexts</li>
        </ul>
        <b>Fixed</b>
        <ul>
          <li>Fixed false trailing whitespace error</li>
          <li>Fixed commas showing as invalid on C1/C2</li>
          <li>Fixed random sprites in ATT editor</li>
          <li>Fixed erroneous comma errors in C1/C2</li>
          <li>Fixed Bit-flag type hints</li>
          <li>Fix subroutine name to gsub navigation</li>
        </ul>
      </li>
      <li>
        <b>Versions: 2021.07.25</b>
        <ul>
          <li>Fixed CAOS2Cob compilation errors</li>
          <li>Fix CAOS2Pray markup errors</li>
          <li>Remove default CAOS colorization preventing natural overrides</li>
          <li>Fix name/game/mame variable errors</li>
        </ul>
      </li>
      <li>
        <b>Versions: 2021.06.22</b>
        <ul>
          <li>Added ability to use non-matching genus in ATT editor</li>
        </ul>
      </li>
      <li>
        <b>Versions: 2021.05.29</b>
        <ul>
          <li>Add all named values to autocomplete on double ctrl+space</li>
        </ul>
      </li>
      <li>
        <b>Versions: 2021.05.29</b>
        <b>#Fix</b>
        <ul>
          <li>Fix parsing failure on comma delimited files</li>
          <li>Fix duplicated sprites in sprite image view</li>
        </ul>
      </li>
      <li>
        <b>Versions: 2021.05.22</b>
        <b>#Improvements</b>
        <ul>
          <li>Increased loading speed of new ATT editor</li>
          <li>Added BLK sprite viewer</li>
          <li>Minor improvements to CAOS lib</li>
        </ul>
        <b>#Fixes</b>
        <ul>
          <li>Fix Z-Order of sprites in ATT editor for C1/C2 variants</li>
          <li>Fix C1e strings indenting with newline inside square bracket</li>
        </ul>
      </li>
      <li>
        <b>Versions: 2021.05.13</b>
        <b>#Improvements</b>
        <ul>
          <li>Added full creature pose view in ATT editor</li>
          <li>Added dump sprite action to project context menu</li>
        </ul>
        <b>#Fixes</b>
        <ul>
          <li>Fix exception when a project closes</li>
          <li>Fix exception on bad sprite read</li>
          <li>Fix missing validation on C1e CAOS token values</li>
        </ul>
      </li>
      <li>
        <b>Versions: 2021.04.24</b>
        <b>#Fixes</b>
        <ul>
          <li>Fix CAOS2Cob throwing error in IntelliJ 2021</li>
          <li>SFC parser throwing error on non-eden sfc</li>
          <li>Insert CLAS action throwing AWT error</li>
          <li>Fix indent following comments in file body</li>
        </ul>
        <b>#Inspections</b>
        <ul>
          <li>Added empty LOOP statement inspection</li>
        </ul>
      </li>
      <li>
        <b>Version: 2020.03.28</b>
        <b>#Fixes</b>
        <ul>
          <li>Fix injector executable not found on Windows</li>
        </ul>
        <b>#Improvements</b>
        <ul>
          <li>Add commenter. Comment out code blocks with CMND+'/'(Mac) CTRL+'/'(Windows)</li>
        </ul>
      </li>
      <li>
        <b>Version: 2020.03.22</b>
        <b>#Fixes</b>
        <ul>
          <li>Fix bad CAOS on compile and inject when control statement contains only comments</li>
          <li>Script injector not injecting removal scripts</li>
        </ul>
        <b>#Improvements</b>
        <ul>
          <li>Add commenter. Comment out code blocks with CMND+'/'(Mac) CTRL+'/'(Windows)</li>
        </ul>
      </li>
      <li>
        <b>Version: 0.01.104</b>
        <ul>
          <li>Fix formatter not formatting some scripts</li>
          <li>Fix sort issues in project view node</li>
          <li>Fix brittle CAOS parser due to overeager syntax error detection</li>
          <li>Add missing commands from CAOS lib</li>
        </ul>
      </li>
      <li>
        <b>Version: 0.01.103</b>
        <ul>
          <li>Fix ATT editor not updating</li>
        </ul>
      </li>
      <li>
        <b>Version: 0.01.102</b>
        <ul>
          <li>Fix slow access to context menus on folders</li>
        </ul>
      </li>
      <li>
        <b>Version: 0.01.101</b>
        <ul>
          <li>Fix bad decompile of multiple install scripts in C1 COBs</li>
          <li>Fix token values not highlighted correctly when text is the same as an existing command</li>
          <li>Add CAOS2Cob compiler. <a
              href="https://github.com/bedalton/Caos-Plugin-IntelliJ/blob/master/CAOS2Cob%20Readme.md">README on
            GitHub</a></li>
          <li>Add "Expand CAOS Commands" action to CAOS context file menu to place commands on separate lines</li>
          <li>Add script element navigation to project view</li>
        </ul>
      </li>
      <li>
        <b>Version: 0.01.100</b>
        <b>#Fixes</b>
        <ul>
          <li>Fix bad parse of C1 string starting with R</li>
          <li>Fix bad DOIF folding on DRIV</li>
          <li>Fix bad DOIF hint on DRIV and CHEM</li>
          <li>Fix no error shown on commas in CV+ variants</li>
        </ul>
        <b>#Improvements</b>
        <ul>
          <li>Simplify double negative DOIF folding</li>
          <li>Delay COB decompile for faster project opening</li>
          <li>Add DOIF folding on CHEM</li>
          <li>Hide project list context menu items when not relevant</li>
        </ul>
      </li>
      <li>
        <b>Version: 0.01.99</b><br/>
        <b>#Fixes</b>
        <ul>
          <li>Fix exception thrown on bad frames on SPR parse</li>
          <li>Exception thrown on non-lowercase file names in ATT file editor</li>
          <li>Fix inconsistent numbering on ATT point radio buttons and in graphic labels</li>
        </ul>
        <b>Improvements</b>
        <ul>
          <li>Make ATT/Sprite matching case insensitive</li>
        </ul>
      </li>
      <li>
        <b>Version: 0.01.99</b><br/>
        <b>#Fixes</b>
        <ul>
          <li>Fix exception thrown on bad frames on SPR parse</li>
          <li>Exception thrown on non-lowercase file names in ATT file editor</li>
          <li>Fix inconsistent numbering on ATT point radio buttons and in graphic labels</li>
        </ul>
        <b>Improvements</b>
        <ul>
          <li>Make ATT/Sprite matching case insensitive</li>
        </ul>
      </li>
      <li>
        <b>Version: 0.01.97</b><br/>
        <b>#Fixes</b>
        <ul>
          <li>Fix accidental indent on Macro newline</li>
          <li>Fix DOIF folding error</li>
        </ul>
        <b>#Additions</b>
        <ul>
          <li>Added experimental ATT file editor</li>
        </ul>
      </li>
      <li>
        <b>Version: 0.01.100</b><br/>
        <b>#Fixes</b>
        <ul>
        </ul>
        <b>Improvements</b>
        <ul>
          <li>Use number keys in ATT editor to select point type</li>
        </ul>
      </li>
      <li>
        <b>Version: 0.01.99</b><br/>
        <b>#Fixes</b>
        <ul>
          <li>Fix exception thrown on bad frames on SPR parse</li>
          <li>Exception thrown on non-lowercase file names in ATT file editor</li>
          <li>Fix inconsistent numbering on ATT point radio buttons and in graphic labels</li>
        </ul>
        <b>Improvements</b>
        <ul>
          <li>Make ATT/Sprite matching case insensitive</li>
        </ul>
      </li>
      <li>
        <b>Version: 0.01.97</b><br/>
        <b>#Fixes</b>
        <ul>
          <li>Fix accidental indent on Macro newline</li>
          <li>Fix DOIF folding error</li>
        </ul>
        <b>#Additions</b>
        <ul>
          <li>Added experimental ATT file editor</li>
        </ul>
      </li>
      <li>
        <b>Version: 0.01.96</b><br/>
        <b>#Fixes</b>
        <ul>
          <li>Values list completions not-working in scratch files or non-IDEA IDEs</li>
          <li>Fix indent problems with new lines preceding a comment</li>
          <li>Fix false positives on Creature OWNR inspection</li>
          <li>Fix bad command information caching.</li>
        </ul>
      </li>
      <li>
        <b>Version: 0.01.95</b><br/>
        <b>#Fixes</b>
        <ul>
          <li>Fix bad subroutine resolution</li>
          <li>Fix bad subroutine rename</li>
          <li>Fix erroneous doif folding of 'agent ne 0' to 'agent is null' instead of 'agent is not null'</li>
        </ul>
      </li>
      <li>
        <b>Version: 0.01.93</b><br/>
        <b>#Fixes</b>
        <ul>
          <li>Fixed exception thrown on CAOS file open</li>
          <li>Fixed Creatures crash on inject CAOS with comments</li>
          <li>Fixed false positives on OWNR commands check</li>
        </ul>
      </li>
      <li>
        <b>Version: 0.01.92</b><br/>
        <b>#Fixes</b>
        <ul>
          <li>Fix SETV/SETS/SETA replacement case</li>
          <li>Fix false positives on requires OWNR inspection</li>
          <li>Report silent C2 CAOS injection failures</li>
        </ul>
        <b>Version: 0.01.91</b><br/>
        <b>#Fixes</b>
        <ul>
          <li>Failure to generate an error on r/lvalues used as commands</li>
        </ul>
        <b>Version: 0.01.9</b><br/>
        <b>#Fixes</b>
        <ul>
          <li>Fix false positives on duplicate event script inspection</li>
          <li>Fix subroutine rename</li>
          <li>Accidental re-indent of comments when running reformat</li>
          <li>Sprite box too big on retina displays</li>
        </ul>
        <b>#Improvements</b>
        <ul>
          <li>Improved hint calculation speed</li>
          <li>Rewrote parser for improved speed</li>
          <li>Added DOIF numeric to named value replacement</li>
        </ul>
        <b>#Release Notes</b>
        <ul>
          <li>Removed expandable sprite project node as it was affecting editor performance</li>
        </ul>
        <b>#Known Problems</b>
        <ul>
          <li>Renaming named variables (ie NAME,GAME,MAME,EAME) creates sever lag and possible lockups in editor.</li>
          <li>Numbered variables do not highlight when lvalue variable is selected</li>
        </ul>
      </li>
      <li>
        <b>Version: 0.01.8</b>
        <b>#Fixes</b>
        <ul>
          <li>Invalid out of range script warning on C2 scripts</li>
          <li>Inability to paste COBs into project</li>
          <li>COBs not receiving sources outside CAOS modules.</li>
        </ul>
        <b>Version: 0.01.7</b>
        <b>#Fixes</b>
        <ul>
          <li>Fix completions in equality expressions</li>
          <li>Fixed event number definitions not resolving to actual event scripts</li>
        </ul>
        <b>#Improvements</b>
        <ul>
          <li>Improved find usages from definitions to code. Including previously opened COB files</li>
          <li>Minor improvements to values list navigation</li>
          <li>Added COB contents explorer.
            <ul>
              <span style="font-size:0.8em">*Cob view requires file placement in proper C1/C2 module</span></li>
            </ul>
          <li>Added ability to copy* images from sprite image list to project view</li>
          <li>Added ability to copy* scripts, sounds, and sprites from expanded COB view to project view</li>
          <li>Removed annoying insert of space after insert value in equality comparisons</li>
          <li>Added warning for commands that require OWNR that are used in a macro</li>
        </ul>
        <div>
          <div style="font-size:0.8em">*Copy Notes*</div>
          <ul style="font-size:0.7em">
            <li style="font-size:1em">Cannot copy to file system directly. Must copy and paste in project view</li>
            <li style="font-size:1em">Copy requires the shortcut key for copy/paste or right-click or menu copy/paste</li>
            <li style="font-size:1em">Copy by drag does not work</li>
          </ul>
        </div>
      </li>
      <li>
        <b>Version: 0.01.6</b><br/>
        <b>#Fixes</b>
        <ul>
          <li>Removed request for script literal string on COS file creation</li>
          <li>Errors in file creation</li>
          <li>Fix C3/DS Raw CAOS injection</li>
          <li>Bad parsing on SCRP element following macro</li>
          <li>'event' type hint prefix not showing on event numbers without named event</li>
        </ul>
        <b>#Improvements</b>
        <ul>
          <li>Added action to swap inverted min/max values in C1</li>
        </ul>
        <b>#New Inspections</b>>
        <ul>
          <li>Interleaving body scripts in C3/DS</li>
          <li>Multiple removal scripts in C3/DS</li>
          <li>Ignored code after removal script inspection in C3/DS</li>
          <li>Duplicate event script numbers</li>
        </ul>
      </li>
      <li>
        <b>Version: 0.01.5</b><br/>
        <b>#Fixes</b>
        <ul>
          <li>Parser error on space only value in C1 style strings</li>
          <li>C3 injector reporting success on invalid output</li>
        </ul>
        <b>#Improvements</b>
        <ul>
          <li>Add inspection for more than one event script in C1/C2 files</li>
          <li>Remove CV+ injector dependents on .NET 4.5</li>
        </ul>
      </li>
      <li>
        <b>Version: 0.01.4</b><br/>
        <b>#Fixes</b>
        <ul>
          <li>Missing errors on unterminated control statements (i.e. missing ENDI)
          <li>BASE command not registering due to bad doc comment</li>
          <li>Erroneous error on char '\\'</li>
          <li>Extra spaces not being marked as errors</li>
        </ul>
        <b>#Improvements</b>
        <ul>
          <li>Fold commands to single line</li>
          <li>Allow separate colorization of VAxx,OVx and MVxx variables</li>
        </ul>
      </li>
      <li>
        <b>Version: 0.01.3</b><br/>
        <b>#Fixes</b>
        <ul>
          <li>Exception on concurrent access to AST expectsArray</li>
          <li>Collapse to single line action not collapsing multiple new lines or comments</li>
        </ul>
        <b>#Improvements</b>
        <ul>
          <li>Fold CV+ Chemicals, Drives and Stimulus, and CA's</li>
          <li>Color scheme editor for CAOS definition files</li>
          <li>Add clickable regions to CAOS definition file doc comment code blocks</li>
          <li>Add highlighting for same variable usage</li>
        </ul>
      </li>
      <li>
        <b>Version: 0.01.2</b>
        <ul>
          <li>fix autocomplete changing numbers to variables</li>
        </ul>
      </li>
      <li>
        <b>Version: 0.01.00</b>
        <ul>
          <li>initial implementation</li>
          <li>Syntax Highlighting</li>
          <li>Basic completion</li>
          <li>Definition reference</li>
          <li>Parameter hints</li>
        </ul>
      </li>
    </ul>
    ]]>
  </change-notes>

  <!-- please see http://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/build_number_ranges.html for description -->
  <idea-version since-build="201" />

  <!-- please see http://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/plugin_compatibility.html
       on how to target different products -->
  <depends>com.intellij.modules.platform</depends>
  <depends>com.intellij.modules.lang</depends>

  <extensions defaultExtensionNs="com.intellij">


    <!-- ======================== -->
    <!-- ===== CAOS Script ====== -->
    <!-- ======================== -->
    <!-- LANG -->
    <postStartupActivity
        implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.project.CaosProjectStartupActivity" />

    <fileTypeFactory
        implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.lang.CaosScriptFileTypeFactory" />

    <lang.parserDefinition
        implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.parser.CaosScriptParserDefinition"
        language="CaosScript"
    />
    <editorNotificationProvider
        implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.project.editor.CaosScriptEditorToolbar" />

    <lang.findUsagesProvider language="CaosScript"
                             implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.references.CaosScriptUsagesProvider" />

    <moduleType id="CAOS_MODULE"
                implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.project.module.CaosScriptModuleType"
                classpathProvider="true" />

    <moduleService
        serviceInterface="com.badahori.creatures.plugins.intellij.agenteering.caos.project.module.CaosModuleSettingsService"
        serviceImplementation="com.badahori.creatures.plugins.intellij.agenteering.caos.project.module.CaosModuleSettingsComponent" />

    <additionalLibraryRootsProvider
        implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.project.library.CaosScriptAdditionalLibraryRootsProvider" />

    <fileBasedIndex
        implementation="com.badahori.creatures.plugins.intellij.agenteering.indices.CaseInsensitiveFileIndex" />


    <!-- Completion -->
    <completion.contributor language="CaosScript"
                            implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.completion.CaosScriptCompletionContributor" />

    <!-- Renaming -->
    <renamePsiElementProcessor
        implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.references.CaosScriptRenameElementProcessor" />

    <vetoRenameCondition
        implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.references.CaosScriptVetoRenameCondition" />

    <renameInputValidator
        implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.references.CaosScriptRenameInputValidator"
    />
    <lang.refactoringSupport language="CaosScript"
                             implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.references.CaosScriptRenameRefactoringSupportProvider" />

    <lang.namesValidator language="CaosScript"
                         implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.references.CaosScriptNameValidator" />

    <enterHandlerDelegate
        implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.handlers.CaosScriptEnterHandler" />

    <!-- Project -->
    <iconProvider
        implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.project.module.CaosModuleIconProvider"
    />
    <projectTemplatesFactory
        implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.project.template.CaosScriptTemplateFactory" />

    <moduleConfigurationEditorProvider
        implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.project.module.CaosModuleConfigurationEditorProvider" />


    <treeStructureProvider
        implementation="com.badahori.creatures.plugins.intellij.agenteering.nodes.BreedTreeProvider" />
    <treeStructureProvider
        implementation="com.badahori.creatures.plugins.intellij.agenteering.nodes.CaosTreeViewProvider" />

    <projectConfigurable parentId="language"
                         instance="com.badahori.creatures.plugins.intellij.agenteering.caos.settings.CaosProjectSettingsConfigurable"
                         id="com.badahori.creatures.plugins.intellij.agenteering.caos.settings.CaosProjectSettingsConfigurable"
                         displayName="CAOS &amp; Agenteering"
                         nonDefaultProject="true"
    />

    <projectService
        serviceInterface="com.badahori.creatures.plugins.intellij.agenteering.caos.settings.CaosProjectSettingsService"
        serviceImplementation="com.badahori.creatures.plugins.intellij.agenteering.caos.settings.CaosProjectSettingsComponent"
    />

    <filePropertyPusher
        implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.settings.ExplicitVariantFilePropertyPusher" />
    <filePropertyPusher
        implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.settings.ImplicitVariantFilePropertyPusher" />
    <filePropertyPusher
        implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.settings.InjectorInterfacePropertyPusher" />


    <!-- Formatting -->
    <lang.formatter language="CaosScript"
                    implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.formatting.CaosScriptFormattingModelBuilder" />

    <lang.commenter
        implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.fixes.CaosScriptCommenter"
        language="CaosScript"
    />

    <!-- Code Style Settings -->
    <codeStyleSettingsProvider
        implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.formatting.CaosScriptCodeStyleSettingsProvider" />
    <langCodeStyleSettingsProvider
        implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.formatting.CaosScriptLanguageCodeStyleSettingsProvider" />

    <!-- Highlighting -->
    <lang.syntaxHighlighterFactory
        implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.highlighting.CaosScriptSyntaxHighlighterFactory"
        language="CaosScript"
    />
    <lang.syntaxHighlighter
        implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.highlighting.CaosScriptSyntaxHighlighter"
        language="CaosScript"
    />

    <colorSettingsPage
        implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.highlighting.CaosScriptColorSettingsPage" />

    <annotator language="CaosScript"
               implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.highlighting.CaosScriptHighlighterAnnotator" />

    <!-- Annotators -->
    <annotator language="CaosScript"
               implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.annotators.CaosScriptSyntaxErrorAnnotator" />
    <annotator language="CaosScript"
               implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.annotators.CaosScriptSpaceAnnotator" />
    <annotator language="CaosScript"
               implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.annotators.CaosScriptEnumAnnotator"
               order="first"
    />
    <annotator language="CaosScript"
               implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.annotators.CaosScriptCommandCaseAnnotator" />
    <annotator language="CaosScript"
               implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.annotators.CaosScriptGhostElementAnnotator" />


    <!--annotator language="CaosScript"
               implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.annotators.CaosScriptHelperActionAnnotator" / -->
    <annotator language="CaosScript"
               implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.pray.annotator.Caos2PrayAnnotator" />

    <!-- Inspections -->
    <localInspection language="CaosScript"
                     implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.inspections.CaosScriptTypesInspection"
                     level="WARNING"
                     groupName="CaosScript"
                     enabledByDefault="true"
                     displayName="Expected parameter type"
                     shortName="ExpectedParameterType"
                     order="last"
    />
    <localInspection language="CaosScript"
                     implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.inspections.CaosScriptCAssignmentInspection"
                     level="ERROR"
                     groupName="CaosScript"
                     enabledByDefault="true"
                     displayName="Assigned value is of expected type"
                     shortName="ExpectedAssigmentType"
    />

    <localInspection language="CaosScript"
                     implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.inspections.CaosScriptSubroutineInspection"
                     level="ERROR"
                     groupName="CaosScript"
                     enabledByDefault="true"
                     displayName="Subroutine is defined"
                     shortName="SubroutineIsDefined"
    />
    <localInspection language="CaosScript"
                     implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.inspections.CaosScriptRandomVarOutOfOrderInspection"
                     level="WARNING"
                     groupName="CaosScript"
                     enabledByDefault="true"
                     displayName="RNDV values out of order"
                     shortName="RNDVOutOfOrder"
    />

    <localInspection language="CaosScript"
                     implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.inspections.CaosScriptInterleavingBodyStatements"
                     level="WEAK WARNING"
                     groupName="CaosScript"
                     enabledByDefault="true"
                     displayName="Interleaving body script elements"
                     shortName="InterleavingBodyScripts"
    />

    <localInspection language="CaosScript"
                     implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.inspections.CaosScriptIgnoredScriptsAfterRemovalScriptInspection"
                     level="WARNING"
                     groupName="CaosScript"
                     enabledByDefault="true"
                     displayName="Scripts after removal scripts are ignored"
                     shortName="ScriptsAfterRemovalScripts"
    />

    <localInspection language="CaosScript"
                     implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.inspections.CaosScriptMultipleRemovalScriptInspection"
                     level="WARNING"
                     groupName="CaosScript"
                     enabledByDefault="true"
                     displayName="Multiple removal scripts"
                     shortName="MultipleRemovalScripts"
    />
    <localInspection language="CaosScript"
                     implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.inspections.CaosScriptRandomValueIsTheSameInspection"
                     level="WEAK WARNING"
                     groupName="CaosScript"
                     enabledByDefault="true"
                     displayName="Rndv value is always the same"
                     shortName="RndvIsTheSame"
    />

    <localInspection language="CaosScript"
                     implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.inspections.CaosScriptRequiresOwnrInspection"
                     level="ERROR"
                     groupName="CaosScript"
                     enabledByDefault="true"
                     displayName="Command used without OWNR object"
                     shortName="NoOwnrObject"
    />

    <localInspection language="CaosScript"
                     implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.inspections.CaosScriptRequiresOwnrWithWarningInspection"
                     level="WEAK WARNING"
                     groupName="CaosScript"
                     enabledByDefault="true"
                     displayName="Non-error generating use of OWNR object command without OWNR object"
                     shortName="NoOwnrObjectWarning"
    />

    <localInspection language="CaosScript"
                     implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.inspections.CaosScriptTrailingWhitespaceInspection"
                     level="ERROR"
                     groupName="CaosScript"
                     enabledByDefault="true"
                     displayName="Trailing whitespace characters"
                     shortName="C1eTrailingWhitespace"
    />

    <localInspection language="CaosScript"
                     level="ERROR"
                     groupName="CaosScript"
                     enabledByDefault="true"
                     displayName="Scripts defined after event script in C1/C2"
                     shortName="ScriptAfterEventScriptC1"
                     implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.inspections.CaosScriptMultipleScriptsInC1File"
    />

    <localInspection language="CaosScript"
                     level="WARNING"
                     groupName="CaosScript"
                     enabledByDefault="true"
                     displayName="Invalid script header value"
                     shortName="InvalidScriptHeaderValue"
                     implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.inspections.CaosScriptInvalidScriptHeaderValueInspection"
    />

    <localInspection language="CaosScript"
                     level="WARNING"
                     groupName="CaosScript"
                     enabledByDefault="true"
                     displayName="Duplicate event script in file"
                     shortName="DuplicateEventScriptInFile"
                     implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.inspections.CaosScriptDuplicateEventScriptInFileInspection"
    />

    <localInspection language="CaosScript"
                     level="WEAK WARNING"
                     groupName="CaosScript"
                     enabledByDefault="true"
                     displayName="Duplicate event script in module"
                     shortName="DuplicateEventScriptInModule"
                     implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.inspections.CaosScriptDuplicateEventScriptInModuleInspection"
    />

    <localInspection language="CaosScript"
                     level="ERROR"
                     groupName="CaosScript"
                     enabledByDefault="true"
                     displayName="SSFC number of arguments"
                     shortName="SSFCArgumentsCheck"
                     implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.inspections.CaosScriptSsfcPointsCheck"
    />

    <localInspection language="CaosScript"
                     level="ERROR"
                     groupName="CaosScript"
                     enabledByDefault="true"
                     displayName="Invalid numeric expression in variant"
                     shortName="InvalidNumericExpression"
                     implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.inspections.CaosScriptInvalidNumericExpressionInspection"
    />

    <localInspection language="CaosScript"
                     level="WEAK WARNING"
                     groupName="CaosScript"
                     enabledByDefault="true"
                     displayName="Agent to int coercion"
                     shortName="AgentToIntCoercion"
                     implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.inspections.CaosScriptAgentToIntCoercionInspection"
    />

    <localInspection language="CaosScript"
                     level="WEAK WARNING"
                     groupName="CaosScript"
                     enabledByDefault="true"
                     displayName="Requires creature ownr object"
                     shortName="RequiresCreatureOwnr"
                     implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.inspections.CaosScriptRequiresCreatureOwnrInspection"
    />


    <localInspection language="CaosScript"
                     level="ERROR"
                     groupName="CaosScript"
                     enabledByDefault="true"
                     displayName="Empty loop causes exception"
                     shortName="EmptyLoopCausesException"
                     groupPath="CaosScript"
                     implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.inspections.CaosScriptEmptyLoopInspection"
    />

    <localInspection language="CaosScript"
                     level="WARNING"
                     groupName="CAOS2Cob"
                     enabledByDefault="true"
                     displayName="Invalid property value"
                     shortName="Caos2CobInvalidTagValue"
                     groupPath="CaosScript"
                     implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.cobs.caos2cob.inspections.Caos2CobIsExpectedTagValueType"
    />

    <localInspection language="CaosScript"
                     level="ERROR"
                     groupName="CAOS2Cob"
                     enabledByDefault="true"
                     displayName="Source file does not exist"
                     shortName="Caos2CobSourceFileDoesNotExist"
                     groupPath="CaosScript"
                     implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.cobs.caos2cob.inspections.Caos2CobRequiredFileExistsInspection"
    />

    <localInspection language="CaosScript"
                     level="WARNING"
                     groupName="CAOS2Cob"
                     enabledByDefault="true"
                     displayName="Out of variant CAOS2Cob directive"
                     shortName="Caos2CobOutOfVariantDirective"
                     groupPath="CaosScript"
                     implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.cobs.caos2cob.inspections.Caos2CobOutOfVariantDirectiveInspection"
    />

    <localInspection language="CaosScript"
                     level="WARNING"
                     groupName="CAOS2Cob"
                     enabledByDefault="true"
                     displayName="Invalid CAOS2Cob property"
                     shortName="Caos2CobInvalidProperty"
                     groupPath="CaosScript"
                     implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.cobs.caos2cob.inspections.Caos2CobPropertyIsValidInspection"
    />

    <localInspection language="CaosScript"
                     level="WARNING"
                     groupName="CAOS2Cob"
                     enabledByDefault="true"
                     displayName="Invalid CAOS2Cob command"
                     shortName="Caos2CobInvalidCommand"
                     groupPath="CaosScript"
                     implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.cobs.caos2cob.inspections.Caos2CobCommandIsValidInspection"
    />

    <localInspection language="CaosScript"
                     level="ERROR"
                     groupName="CAOS2Cob"
                     enabledByDefault="true"
                     displayName="Missing required CAOS2Cob properties"
                     shortName="Caos2CobMissingRequiredProperties"
                     groupPath="CaosScript"
                     implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.cobs.caos2cob.inspections.Caos2CobHasRequiredFieldsInspection"
    />

    <localInspection language="CaosScript"
                     level="ERROR"
                     groupName="CAOS2Cob"
                     enabledByDefault="true"
                     displayName="Included file is valid type"
                     shortName="Caos2CobIncludedFileIsValidType"
                     groupPath="CaosScript"
                     implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.cobs.caos2cob.inspections.Caos2CobIncludedFileIsCorrectTypeInspection"
    />

    <localInspection language="CaosScript"
                     level="ERROR"
                     groupName="CAOS2Cob"
                     enabledByDefault="true"
                     displayName="Only one agent name"
                     shortName="Caos2CobTooManyAgentNames"
                     groupPath="CaosScript"
                     implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.cobs.caos2cob.inspections.Caos2CobOnlyOneAgentNameInspection"
    />

    <localInspection language="CaosScript"
                     level="ERROR"
                     groupName="CAOS2Cob"
                     enabledByDefault="true"
                     displayName="Only one cob name"
                     shortName="Caos2CobTooManyCobNames"
                     groupPath="CaosScript"
                     implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.cobs.caos2cob.inspections.Caos2CobOnlyOneCobNameInspection"
    />


    <!--localInspection language="CaosScript"
                     level="ERROR"
                     groupName="CAOS2Pray"
                     enabledByDefault="true"
                     displayName="CAOS2Pray block is not valid"
                     shortName="CAOS2PrayBlockIsInvalid"
                     groupPath="CaosScript"
                     implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.pray.inspections.Caos2PrayBlockIsValidInspection"
    /-->

    <localInspection language="CaosScript"
                     level="ERROR"
                     groupName="CAOS2Pray"
                     enabledByDefault="true"
                     displayName="Incorrect tag case"
                     shortName="CAOS2PrayTagIncorrectCase"
                     groupPath="CaosScript"
                     implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.pray.inspections.Caos2PrayTagCaseInspection"
    />

    <localInspection language="CaosScript"
                     level="INFO"
                     groupPath="CaosScript"
                     groupName="CAOS2Pray"
                     enabledByDefault="true"
                     displayName="PRAY tag is similar to official tag"
                     shortName="CAOS2PraySimilarTags"
                     implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.pray.inspections.Caos2PraySimilarTagInspection"
    />

    <localInspection language="CaosScript"
                     level="ERROR"
                     groupPath="CaosScript"
                     groupName="CAOS2Pray"
                     enabledByDefault="true"
                     displayName="Use of reserved auto-generated tag"
                     shortName="CAOS2PrayReservedTagUse"
                     implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.pray.inspections.Caos2PrayReservedTagUseInspection"
    />

    <localInspection language="CaosScript"
                     level="ERROR"
                     groupPath="CaosScript"
                     groupName="CAOS2Pray"
                     enabledByDefault="true"
                     displayName="Required file does not exist"
                     shortName="Caos2PraySourceFileDoesNotExist"
                     implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.pray.inspections.Caos2PrayRequiredFileExistsInspection"
    />


    <localInspection language="CaosScript"
                     level="INFO"
                     groupPath="CaosScript"
                     groupName="CAOS2Pray"
                     enabledByDefault="true"
                     displayName="Invalid CAOS2Pray property"
                     shortName="Caos2PrayInvalidProperty"
                     implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.pray.inspections.Caos2PrayPropertyIsValidInspection"
    />

    <!-- Documentation & Hints -->
    <documentationProvider
        implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.documentation.CaosScriptDocumentationProvider" />

    <lang.foldingBuilder language="CaosScript"
                         implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.hints.CaosScriptDoifFoldingBuilder" />
    <lang.foldingBuilder language="CaosScript"
                         implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.hints.CaosScriptStimFoldingBuilder" />
    <lang.foldingBuilder language="CaosScript"
                         implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.formatting.CaosScriptBlockFoldingBuilder" />
    <lang.foldingBuilder language="CaosScript"
                         implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.hints.CaosScriptRvalueFoldingBuilder"
                         id="caosRvalueFolder"
                         order="before caosInlayHints" />

    <codeInsight.parameterNameHints language="CaosScript"
                                    implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.hints.CaosScriptInlayHintsProvider"
                                    id="caosInlayHints"
                  order="after caosRvalueFolder"
    />

    <lang.braceMatcher language="CaosScript"
                       implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.formatting.CaosScriptBraceMatcher" />
    <lang.quoteHandler
        language="CaosScript"
        implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.formatting.CaosScriptQuoteHandler" />

<!--    <referencesSearch-->
<!--        implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.references.CaosDefElementsSearchExecutor" />-->

    <!-- Indices -->
    <applicationService
        serviceInterface="com.badahori.creatures.plugins.intellij.agenteering.caos.indices.CaosScriptIndexService"
        serviceImplementation="com.badahori.creatures.plugins.intellij.agenteering.caos.indices.CaosScriptIndexServiceImpl" />
    <stubElementTypeHolder
        class="com.badahori.creatures.plugins.intellij.agenteering.caos.stubs.types.CaosScriptStubTypes" />
    <stubIndex
        implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.indices.CaosScriptSubroutineIndex" />
    <stubIndex
        implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.indices.CaosScriptVarAssignmentIndex" />
    <stubIndex
        implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.indices.CaosScriptEventScriptIndex" />
    <stubIndex
        implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.indices.CaosScriptExpressionIndex" />
    <stubIndex
        implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.indices.CaosScriptNamedGameVarIndex" />

    <!-- INTENTION ACTIONS -->
    <intentionAction>
      <className>com.badahori.creatures.plugins.intellij.agenteering.caos.fixes.CaosScriptExpandCommasIntentionAction
      </className>
      <category>CAOS</category>
    </intentionAction>

    <intentionAction>
      <className>
        com.badahori.creatures.plugins.intellij.agenteering.caos.fixes.CaosScriptCollapseNewLineWithCommasIntentionAction
      </className>
      <category>CAOS</category>
    </intentionAction>

    <intentionAction>
      <className>
        com.badahori.creatures.plugins.intellij.agenteering.caos.fixes.CaosScriptCollapseNewLineWithSpacesIntentionAction
      </className>
      <category>CAOS</category>
    </intentionAction>

    <intentionAction>
      <className>
        com.badahori.creatures.plugins.intellij.agenteering.caos.completion.GenerateBitFlagIntegerIntentionAction
      </className>
      <category>CAOS</category>
    </intentionAction>

    <intentionAction>
      <className>com.badahori.creatures.plugins.intellij.agenteering.caos.completion.GenerateClasIntegerAction
      </className>
      <category>CAOS</category>
    </intentionAction>

    <!-- ======================== -->
    <!-- ======= CAOS DEF ======= -->
    <!-- ======================== -->
    <!-- LANG -->
    <lang.parserDefinition
        implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.def.parser.CaosDefParserDefinition"
        language="CaosDef" />
    <completion.contributor language="CaosDef"
                            implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.def.contributor.CaosDefCompletionContributor" />

    <!--    <lang.findUsagesProvider-->
    <!--        implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.def.references.CaosDefUsagesProvider"-->
    <!--        language="CaosDef" />-->

    <!-- Bundled Definitions -->
    <library.type
        implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.project.library.CaosLibraryType"
        id="CaosLibrary" />

    <!-- Highlighting -->
    <syntaxHighlighter
        implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.def.highlighting.CaosDefSyntaxHighlighter"
        key="CaosDef" />
    <lang.syntaxHighlighterFactory
        implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.def.highlighting.CaosDefSyntaxHighlighterFactory"
        language="CaosDef" />
    <annotator language="CaosDef"
               implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.def.highlighting.CaosDefHighlighterAnnotator" />

    <lang.elementManipulator
        forClass="com.badahori.creatures.plugins.intellij.agenteering.caos.def.psi.impl.CaosDefCodeBlockImpl"
        implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.def.highlighting.CaosDefCodeBlockManipulator" />
    <languageInjector
        implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.def.highlighting.CaosDefCodeBlockInjector"
    />
    <!-- Indices -->
    <stubElementTypeHolder
        class="com.badahori.creatures.plugins.intellij.agenteering.caos.stubs.types.CaosScriptStubTypes" />
    <applicationService
        serviceInterface="com.badahori.creatures.plugins.intellij.agenteering.caos.def.indices.CaosDefStubIndexService"
        serviceImplementation="com.badahori.creatures.plugins.intellij.agenteering.caos.def.indices.CaosDefStubIndexServiceImpl" />
    <stubIndex
        implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.def.indices.CaosDefCommandElementsByNameIndex" />
    <stubIndex
        implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.def.indices.CaosDefHashTagsIndex" />
    <stubIndex
        implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.def.indices.CaosDefValuesListElementsByNameIndex" />

    <!-- Formatting -->
    <lang.braceMatcher language="CaosDef"
                       implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.def.format.CaosDefBraceMatcher" />
    <enterBetweenBracesDelegate language="CaosDef"
                                implementationClass="com.badahori.creatures.plugins.intellij.agenteering.caos.def.format.CaosDefEnterBetweenBracesDelegate" />

    <colorSettingsPage
        implementation="com.badahori.creatures.plugins.intellij.agenteering.caos.def.highlighting.CaosDefColorSettingsPage" />

    <!-- =========================== -->
    <!-- ====== Sprite Files ======= -->
    <!-- =========================== -->
    <fileEditorProvider
        implementation="com.badahori.creatures.plugins.intellij.agenteering.sprites.editor.SpriteFileEditorProvider" />

    <fileEditorProvider
        implementation="com.badahori.creatures.plugins.intellij.agenteering.sprites.editor.BlkPreviewViewProvider" />

    <fileType name="SPR file"
              implementationClass="com.badahori.creatures.plugins.intellij.agenteering.sprites.spr.SprFileType"
              fieldName="INSTANCE"
              extensions="spr" />

    <fileType name="S16 Sprite File"
              implementationClass="com.badahori.creatures.plugins.intellij.agenteering.sprites.s16.S16FileType"
              fieldName="INSTANCE"
              extensions="s16" />

    <fileType name="C16 Sprite File"
              implementationClass="com.badahori.creatures.plugins.intellij.agenteering.sprites.c16.C16FileType"
              fieldName="INSTANCE"
              extensions="c16" />

    <fileType name="BLK Sprite File"
              implementationClass="com.badahori.creatures.plugins.intellij.agenteering.sprites.blk.BlkFileType"
              fieldName="INSTANCE"
              extensions="blk" />


    <fileBasedIndex
        implementation="com.badahori.creatures.plugins.intellij.agenteering.sprites.indices.BreedSpriteIndex"
    />

    <!-- SFC File Handling -->
    <!--fileType name="SFCFile"
              implementationClass="com.badahori.creatures.plugins.intellij.agenteering.sfc.lang.SfcFileType"
              fieldName="INSTANCE"
              language="PlainText"
              extensions="sfc" />
   -->

    <!-- =========================== -->
    <!-- ======== COB Files ======== -->
    <!-- =========================== -->
    <!--filetype.decompiler filetype="COBFile" implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.cobs.decompiler.CobBinaryDecompiler" /-->

    <fileType name="COBFile"
              implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.cobs.lang.CobFileType"
              fieldName="INSTANCE"
              language="CaosScript"
              extensions="cob"
    />

    <!--fileType.fileViewProviderFactory
        filetype="COBFile"
        implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.cobs.editor.CobEditorProviderFactory"
    /-->


    <!-- =========================== -->
    <!-- ====== ATT Files ======= -->
    <!-- =========================== -->
    <fileEditorProvider
        implementation="com.badahori.creatures.plugins.intellij.agenteering.att.editor.AttFileEditorProvider" />

    <fileType name="ATTFile"
              implementationClass="com.badahori.creatures.plugins.intellij.agenteering.att.lang.AttFileType"
              fieldName="INSTANCE"
              language="Att"
              extensions="att"
    />

    <fileBasedIndex implementation="com.badahori.creatures.plugins.intellij.agenteering.att.indices.AttFilesIndex"
    />
    <fileBasedIndex
        implementation="com.badahori.creatures.plugins.intellij.agenteering.att.indices.AttFilesByVariantIndex"
    />

    <lang.parserDefinition
        implementationClass="com.badahori.creatures.plugins.intellij.agenteering.att.parser.AttParserDefinition"
        language="Att"
    />


    <!-- =========================== -->
    <!-- ====== PRAY FILES ========= -->
    <!-- =========================== -->

    <!-- LANGUAGE -->

    <lang.parserDefinition
        implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.pray.psi.parser.PrayParserDefinition"
        language="CreaturesPRAY"
    />

    <fileTypeOverrider
        implementation="com.badahori.creatures.plugins.intellij.agenteering.bundles.pray.lang.PrayFileOverrider"
        order="first"
    />

    <fileType name="PRAYFile"
              implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.pray.lang.PrayFileType"
              fieldName="INSTANCE"
              language="CreaturesPRAY" />

    <lang.commenter language="CreaturesPRAY"
                    implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.pray.support.PrayCommenter" />
    <!-- Highlighting -->
    <syntaxHighlighter
        implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.pray.highlighting.PraySyntaxHighlighter"
        key="CreaturesPRAY" />

    <codeInsight.parameterNameHints language="CreaturesPRAY"
                                    implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.pray.support.PrayInlayHintsProvider" />

    <lang.syntaxHighlighterFactory
        implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.pray.highlighting.PraySyntaxHighlighterFactory"
        language="CreaturesPRAY" />

    <colorSettingsPage
        implementation="com.badahori.creatures.plugins.intellij.agenteering.bundles.pray.highlighting.PrayColorSettingsPage" />

    <annotator language="CreaturesPRAY"
               implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.pray.highlighting.PRAYHighlighterAnnotator" />

    <!-- =========================== -->
    <!-- ====== AGENTS FILES ======= -->
    <!-- =========================== -->

    <fileType name="AGENTFile"
              implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.agents.lang.AgentFileType"
              fieldName="INSTANCE"
              extensions="agents;agent;pray" />


    <!-- EDITOR -->
    <editorNotificationProvider
        implementation="com.badahori.creatures.plugins.intellij.agenteering.bundles.pray.editor.PrayEditorToolbar" />



    <!-- Completion -->
    <completion.contributor language="CreaturesPRAY"
                            implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.pray.support.PrayCompletionContributor" />



    <!-- INSPECTIONS -->

    <annotator language="CreaturesPRAY"
               implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.pray.annotator.PrayErrorAnnotator" />

    <localInspection language="CreaturesPRAY"
                     level="ERROR"
                     groupName="PRAY"
                     enabledByDefault="true"
                     displayName="PRAY source file does not exist"
                     shortName="PRAYSourceFileDoesNotExist"
                     groupPath="CaosScript"
                     implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.pray.inspections.PrayRequiredFileExistsInspection"
    />

    <localInspection language="CreaturesPRAY"
                     level="WARNING"
                     groupName="PRAY"
                     enabledByDefault="true"
                     displayName="PRAY dependency category is valid for file type"
                     shortName="PRAYDependencyCategoryMatchesFileType"
                     groupPath="CaosScript"
                     implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.pray.inspections.PrayDependencyCategoryMatchesFileType"
    />

    <localInspection language="CreaturesPRAY"
                     level="INFO"
                     groupName="PRAY"
                     enabledByDefault="true"
                     displayName="PRAY tag is similar to official"
                     shortName="PRAYSimilarTag"
                     groupPath="CaosScript"
                     implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.pray.inspections.PrayTagFixSimilarInspection"
    />

    <localInspection language="CaosScript"
                     level="ERROR"
                     groupName="PRAY"
                     enabledByDefault="true"
                     displayName="Incorrect tag case"
                     shortName="PRAYTagIncorrectCase"
                     groupPath="CaosScript"
                     implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.pray.inspections.PrayTagCaseInspection"
    />
    <lang.findUsagesProvider
        implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.pray.support.PrayFindUsagesProvider"
        language="CreaturesPRAY" />
    <!--localInspection language="CreaturesPRAY"
                     level="ERROR"
                     groupName="PRAY"
                     enabledByDefault="true"
                     displayName="PRAY block is not valid"
                     shortName="PRAYBlockIsInvalid"
                     groupPath="CaosScript"
                     implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.pray.inspections.PrayBlockIsValidInspection"
    />

    <localInspection language="TEXT"
                     level="ERROR"
                     groupName="PRAY"
                     enabledByDefault="true"
                     displayName="PRAY(txt) block is not valid"
                     shortName="PRAYTXTBlockIsInvalid"
                     groupPath="CaosScript"
                     implementationClass="com.badahori.creatures.plugins.intellij.agenteering.bundles.pray.inspections.PrayPlainTextBlockIsValidInspection"
    /-->

    <!-- =========================== -->
    <!-- === Virtual File System  == -->
    <!-- =========================== -->
    <virtualFileSystem
        implementationClass="com.badahori.creatures.plugins.intellij.agenteering.vfs.CaosVirtualFileSystem"
        key="caosvfs"
    />
  </extensions>

  <actions>
    <!-- Add your actions here -->
    <action
        id="CaosScript.NewFile"
        icon="CaosScriptIcons.CAOS_FILE_ICON"
        class="com.badahori.creatures.plugins.intellij.agenteering.caos.action.CaosScriptNewFileAction">
      <add-to-group group-id="NewGroup" anchor="after" relative-to-action="NewFile" />
    </action>
    <action id="com.badahori.creatures.plugins.intellij.agenteering.caos.action.CaosScriptCopyForBoBCobAction"
            class="com.badahori.creatures.plugins.intellij.agenteering.caos.action.CaosScriptCopyForBoBCobAction"
            text="Copy for BoBCob" description="Copy script for BoBCob file editor formatting as necessary">
      <add-to-group group-id="CutCopyPasteGroup" anchor="before" relative-to-action="CopyPaths" />
    </action>
    <!--suppress PluginXmlCapitalization -->
    <action id="com.badahori.creatures.plugins.intellij.agenteering.caos.action.ExpandCaosCommandsAction"
            class="com.badahori.creatures.plugins.intellij.agenteering.caos.action.ExpandCaosCommandsAction"
            text="Expand CAOS commands" description="Places each CAOS command onto its own line">">
      <add-to-group group-id="CutCopyPasteGroup" anchor="before" relative-to-action="CopyPaths" />
    </action>
    <!--suppress PluginXmlCapitalization -->
    <action id="com.badahori.creatures.plugins.intellij.agenteering.bundles.cobs.caos2cob.actions.CompileCaos2CobAction"
            class="com.badahori.creatures.plugins.intellij.agenteering.bundles.cobs.caos2cob.actions.CompileCaos2CobAction"
            text="Compile CAOS2Cob files" description="Compile CAOS2Cob CAOS files into C1/C2 COBs">
      <add-to-group group-id="ProjectViewPopupMenu" anchor="after" relative-to-action="ExternalToolsGroup" />
    </action>
    <action id="com.badahori.creatures.plugins.intellij.agenteering.sprites.actions.DumpSpriteAction"
            class="com.badahori.creatures.plugins.intellij.agenteering.sprites.actions.DumpSpriteAction"
            text="Dump Creatures Sprite" description="Dumps a creatures sprite file into a project directory"
    >
      <add-to-group group-id="ProjectViewPopupMenu" relative-to-action="ProjectViewPopupMenuRunGroup" anchor="before" />
    </action>

    <action id="com.badahori.creatures.plugins.intellij.agenteering.poser.actions.AutoPreview"
            class="com.badahori.creatures.plugins.intellij.agenteering.poser.actions.AutoPreview"
            text="Generate Breed Previews" description="Generates breed preview images"
    >
      <add-to-group group-id="ProjectViewPopupMenu" relative-to-action="ProjectViewPopupMenuRunGroup" anchor="before" />
    </action>

    <!--suppress PluginXmlCapitalization -->
    <action id="com.badahori.creatures.plugins.intellij.agenteering.bundles.pray.compiler.CompilePrayFileAction"
            class="com.badahori.creatures.plugins.intellij.agenteering.bundles.pray.compiler.CompilePrayFileAction"
            text="Compile PRAY agent"
            description="Compiles a PRAY or CAOS2Pray file into a C3/DS agent"
    >
      <add-to-group group-id="ProjectViewPopupMenu" relative-to-action="ProjectViewPopupMenuRunGroup" anchor="before" />
    </action>
  </actions>
</idea-plugin>